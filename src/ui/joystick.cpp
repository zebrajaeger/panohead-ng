#include "joystick.h"

//------------------------------------------------------------------------------
Joystick::Joystick()
    : x_("JOX.X"),
      y_("JOX.Y")
//------------------------------------------------------------------------------
{}

//------------------------------------------------------------------------------
bool Joystick::begin(float threshold, float minRawDistanceFromCenterToBeValid, bool autoCalibrate)
//------------------------------------------------------------------------------
{
  x_.begin(threshold, minRawDistanceFromCenterToBeValid, autoCalibrate);
  y_.begin(threshold, minRawDistanceFromCenterToBeValid, autoCalibrate);
  return true;
}

//------------------------------------------------------------------------------
void Joystick::statistics()
//------------------------------------------------------------------------------
{
  x_.statistics();
  y_.statistics();
}

//------------------------------------------------------------------------------
void Joystick::setRawCenterX(float rawCenterValueX)
//------------------------------------------------------------------------------
{
  x_.setRawCenter(rawCenterValueX);
}

//------------------------------------------------------------------------------
void Joystick::setRawCenterY(float rawCenterValueY)
//------------------------------------------------------------------------------
{
  y_.setRawCenter(rawCenterValueY);
}

//------------------------------------------------------------------------------
bool Joystick::isCalibrated() const
//------------------------------------------------------------------------------
{
  return x_.isCalibrated() && y_.isCalibrated();
}

//------------------------------------------------------------------------------
void Joystick::setRawCenter(float rawCenterValueX, float rawCenterValueY)
//------------------------------------------------------------------------------
{
  x_.setRawCenter(rawCenterValueX);
  y_.setRawCenter(rawCenterValueY);
}

//------------------------------------------------------------------------------
float Joystick::setRawX(float x)
//------------------------------------------------------------------------------
{
  return x_.setRawValue(x);
}

//------------------------------------------------------------------------------
float Joystick::setRawY(float y)
//------------------------------------------------------------------------------
{
  return y_.setRawValue(y);
}

//------------------------------------------------------------------------------
void Joystick::setRaw(float x, float y)
//------------------------------------------------------------------------------
{
  x_.setRawValue(x);
  y_.setRawValue(y);
}

//------------------------------------------------------------------------------
float Joystick::getX() const
//------------------------------------------------------------------------------
{
  return x_.getValue();
}

//------------------------------------------------------------------------------
float Joystick::getY() const
//------------------------------------------------------------------------------
{
  return y_.getValue();
}

//------------------------------------------------------------------------------
bool Joystick::hasValue() const
//------------------------------------------------------------------------------
{
  return x_.hasValue() || y_.hasValue();
}

//------------------------------------------------------------------------------
const JoystickAxis& Joystick::getXAxis() const
//------------------------------------------------------------------------------
{
  return x_;
}

//------------------------------------------------------------------------------
const JoystickAxis& Joystick::getYAxis() const
//------------------------------------------------------------------------------
{
  return y_;
}